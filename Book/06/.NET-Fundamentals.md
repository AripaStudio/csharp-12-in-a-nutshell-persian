# فصل ششم: مبانی .NET

بسیاری از امکانات اصلی که هنگام برنامه‌نویسی به آن‌ها نیاز دارید، توسط خود زبان **C#** فراهم نمی‌شوند، بلکه توسط **انواع (Types)** موجود در **BCL** یا همان **.NET Base Class Library** ارائه می‌شوند.

در این فصل، با انواعی آشنا می‌شوید که در انجام کارهای پایه‌ای برنامه‌نویسی به شما کمک می‌کنند، مانند:

* مقایسه برابری مجازی (Virtual Equality Comparison)
* مقایسه ترتیب (Order Comparison)
* تبدیل نوع (Type Conversion)

همچنین با انواع پایه‌ای **.NET** مانند **String**، **DateTime** و **Enum** نیز آشنا خواهید شد.

انواعی که در این بخش پوشش داده می‌شوند، بیشتر در فضای نام (**Namespace**) **System** قرار دارند، به جز موارد زیر:

* **StringBuilder** و انواع مربوط به **کدگذاری متن (Text Encodings)** در فضای نام **System.Text** قرار دارند.
* **CultureInfo** و انواع مرتبط با آن در **System.Globalization** قرار دارند.
* **XmlConvert** در **System.Xml** تعریف شده است.

---

### مدیریت رشته و متن 📝

#### **Char**

یک **char** در زبان **C#** نشان‌دهنده یک کاراکتر یونیکد (Unicode Character) واحد است و در واقع معادل ساختار (**struct**) **System.Char** است.

در فصل ۲ توضیح دادیم که چگونه **لیترال‌های char** را بیان کنید:

```csharp
char c = 'A';
char newLine = '\n';
```

ساختار **System.Char** مجموعه‌ای از متدهای **static** برای کار با کاراکترها ارائه می‌دهد، مانند **ToUpper**، **ToLower** و **IsWhiteSpace**. شما می‌توانید این متدها را هم از طریق **System.Char** و هم از طریق **char** فراخوانی کنید:

```csharp
Console.WriteLine (System.Char.ToUpper ('c'));    // C
Console.WriteLine (char.IsWhiteSpace ('\t'));     // True
```

متدهای **ToUpper** و **ToLower** به **محلی‌سازی (Locale)** کاربر نهایی احترام می‌گذارند و این می‌تواند گاهی منجر به بروز خطاهای ظریف شود. به عنوان مثال، عبارت زیر در کشور ترکیه مقدار **false** را برمی‌گرداند:

```csharp
char.ToUpper ('i') == 'I'
```

دلیل این موضوع این است که در ترکیه، نتیجه‌ی **char.ToUpper ('i')** برابر با **'İ'** است (به نقطه روی حرف توجه کنید!).

برای جلوگیری از این مشکل، **System.Char** (و همچنین **System.String**) نسخه‌های **culture-invariant** از متدهای **ToUpper** و **ToLower** را ارائه می‌دهند که با پسوند **Invariant** مشخص می‌شوند. این متدها همیشه از قوانین فرهنگ انگلیسی استفاده می‌کنند:

```csharp
Console.WriteLine (char.ToUpperInvariant ('i'));    // I
```

این در واقع یک میانبر برای کد زیر است:

```csharp
Console.WriteLine (char.ToUpper ('i', CultureInfo.InvariantCulture))
```

برای اطلاعات بیشتر درباره **locale**‌ها و فرهنگ‌ها، به بخش **Formatting and Parsing** در صفحه **317** مراجعه کنید.

بیشتر متدهای **static** دیگر در **char** مربوط به **دسته‌بندی کاراکترها** هستند. **جدول 6-1** این متدها را نشان می‌دهد.

---
