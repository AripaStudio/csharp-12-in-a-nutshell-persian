##  📝مبانی زبان #C
در این فصل، مبانی پایه‌ای زبان سی‌شارپ را معرفی می‌کنیم.
تقریباً تمامی لیست‌های کد ارائه‌شده در این کتاب، به صورت نمونه‌های تعاملی در LINQPad قابل دسترسی هستند. کار کردن با این نمونه‌ها در کنار مطالعهٔ کتاب، روند یادگیری را تسریع می‌کند، چرا که می‌توانید کدها را ویرایش کرده و بلافاصله نتایج را مشاهده کنید بدون نیاز به تنظیم پروژه‌ها یا Solutionها در ویژوال استودیو.

برای دانلود نمونه‌ها، در LINQPad روی تب Samples کلیک کنید، سپس گزینهٔ "Download more samples" را انتخاب نمایید. LINQPad رایگان است — برای دریافت به آدرس زیر مراجعه کنید:
http://www.linqpad.net

## اولین برنامه سی‌شارپ
برنامه زیر عدد ۱۲ را در ۳۰ ضرب کرده و نتیجه (۳۶۰) را روی صفحه نمایش می‌دهد. علامت // نشان‌دهنده توضیحات (کامنت) است:

```C#
int x = 12 * 30;                  // عبارت ۱  
System.Console.WriteLine(x);      // عبارت ۲
```
برنامه ما از دو عبارت تشکیل شده است. عبارات در سی‌شارپ به ترتیب اجرا شده و با سمیکولن (;) پایان می‌یابند.

عبارت اول حاصل ضرب 12 * 30 را محاسبه کرده و نتیجه را در متغیری به نام x از نوع int (عدد صحیح ۳۲ بیتی) ذخیره می‌کند.

عبارت دوم متد WriteLine را از کلاس Console (تعریف‌شده در فضای نام System) فراخوانی می‌کند که مقدار x را در پنجره خروجی نمایش می‌دهد.

توضیح مفاهیم کلیدی
متد (Method): یک تابع که وظیفه خاصی را انجام می‌دهد (مثل WriteLine).

کلاس (Class): بلوک سازنده شیءگرایی که شامل متدها و داده‌هاست (مثل Console).

فضای نام (Namespace): راهی برای سازماندهی انواع (Types) در سطوح بالاتر. بسیاری از کلاس‌های پرکاربرد (مثل Console) در فضای نام System قرار دارند.

مثال:

```C#System.Text برای کار با متن.

System.IO برای عملیات ورودی/خروجی.
```

بهینه‌سازی کد با using
برای جلوگیری از تکرار System.Console می‌توان از دستور using استفاده کرد:

```C#
using System;  // وارد کردن فضای نام System  
Console.WriteLine(x);  // دیگر نیازی به نوشتن System. نیست  
```
استفاده مجدد از کد با متدها
می‌توان با تعریف متدهای سطح بالا (مثل تبدیل فوت به اینچ) کد را بهینه‌تر کرد:

```C#
Console.WriteLine(FeetToInches(30));  // خروجی: 360  
Console.WriteLine(FeetToInches(100)); // خروجی: 1200  

int FeetToInches(int feet)  
{  
    int inches = feet * 12;  
    return inches;  
}  
```
بلوک عبارت: مجموعه‌ای از دستورات داخل آکولاد {}.

پارامتر ورودی و خروجی: متد FeetToInches یک پارامتر (feet) و مقدار بازگشتی (inches) دارد.

متدهای بدون ورودی/خروجی
اگر متدی ورودی نداشته باشد، از پرانتز خالی استفاده می‌کنیم.

اگر خروجی نداشته باشد، از void استفاده می‌شود:

```C#
SayHello();  

void SayHello()  
{  
    Console.WriteLine("Hello, world");  
}
```
انواع توابع در سی‌شارپ
متدها (مثل FeetToInches).

عملگرها (مثل * برای ضرب).

سایر موارد: سازنده‌ها (Constructors)، ویژگی‌ها (Properties)، رویدادها (Events)، ایندکسرها (Indexers) و فاینالایزرها (Finalizers).

### کامپایل

کامپایلر سی‌شارپ کد منبع (مجموعه‌ای از فایل‌ها با پسوند .cs) را به یک اَسمبلی (assembly) کامپایل می‌کند. یک اَسمبلی، واحد بسته‌بندی و استقرار در .NET است. یک اَسمبلی می‌تواند یک برنامه یا یک کتابخانه باشد. یک برنامه کنسول یا ویندوز معمولی دارای یک نقطه ورود است، در حالی که یک کتابخانه اینگونه نیست. هدف یک کتابخانه این است که توسط یک برنامه یا توسط کتابخانه‌های دیگر فراخوانی (ارجاع) شود. خود .NET مجموعه‌ای از کتابخانه‌ها (و همچنین یک محیط زمان اجرا) است.

هر یک از برنامه‌های بخش قبلی مستقیماً با مجموعه‌ای از دستورات (به نام دستورات سطح بالا) آغاز شدند. وجود دستورات سطح بالا به طور ضمنی یک نقطه ورود برای یک برنامه کنسول یا ویندوز ایجاد می‌کند. (بدون دستورات سطح بالا، متد Main نقطه ورود یک برنامه را نشان می‌دهد—به "انواع سفارشی" در صفحه ۳۷ مراجعه کنید.)

برخلاف .NET Framework، اَسمبلی‌های .NET 8 هرگز پسوند .exe ندارند. فایل .exe که پس از ساخت یک برنامه .NET 8 می‌بینید، یک لودر بومی (native loader) مخصوص پلتفرم است که مسئول راه‌اندازی اسمبلی .dll برنامه شما می‌باشد.

.NET 8 همچنین به شما اجازه می‌دهد یک استقرار مستقل (self-contained deployment) ایجاد کنید که شامل لودر، اسمبلی‌های شما، و بخش‌های مورد نیاز از زمان اجرای .NET باشد—همه در یک فایل .exe واحد. .NET 8 همچنین امکان کامپایل پیش از موعد (AOT) را فراهم می‌کند، که در آن فایل اجرایی حاوی کد بومی از پیش کامپایل شده برای راه‌اندازی سریع‌تر و کاهش مصرف حافظه است.

ابزار dotnet (در ویندوز dotnet.exe) به شما کمک می‌کند کدهای منبع و باینری‌های .NET را از طریق خط فرمان مدیریت کنید. می‌توانید از آن برای ساخت و اجرای برنامه خود استفاده کنید، به عنوان جایگزینی برای استفاده از یک محیط توسعه یکپارچه (IDE) مانند ویژوال استودیو یا ویژوال استودیو کد.

می‌توانید ابزار dotnet را یا با نصب .NET 8 SDK یا با نصب ویژوال استودیو به دست آورید. مکان پیش‌فرض آن در ویندوز ‎%ProgramFiles%\dotnet و در اوبونتو لینوکس ‎/usr/bin/dotnet است.

برای کامپایل یک برنامه، ابزار dotnet به یک فایل پروژه و همچنین یک یا چند فایل سی‌شارپ نیاز دارد. دستور زیر یک پروژه کنسول جدید را راه‌اندازی می‌کند (ساختار پایه آن را ایجاد می‌کند):

```c#

dotnet new Console -n MyFirstProgram
```
این دستور یک زیرپوشه به نام MyFirstProgram ایجاد می‌کند که شامل یک فایل پروژه به نام MyFirstProgram.csproj و یک فایل سی‌شارپ به نام Program.cs است که عبارت "Hello world." را چاپ می‌کند.

برای ساخت و اجرای برنامه خود، دستور زیر را از پوشه MyFirstProgram اجرا کنید:

```c#

dotnet run MyFirstProgram
```
یا، اگر فقط می‌خواهید بدون اجرا بسازید:

```c#

dotnet build MyFirstProgram.csproj
```
خروجی اسمبلی در یک زیردایرکتوری تحت bindebug نوشته خواهد شد. ما در فصل 17 به تفصیل درباره اسمبلی‌ها توضیح می‌دهیم.

## Syntax

نحو سی‌شارپ از نحو زبان‌های C و C++ الهام گرفته شده است. در این بخش، ما عناصر نحو سی‌شارپ را با استفاده از برنامه زیر توضیح می‌دهیم:

```C#

using System;
int x = 12 * 30;
Console.WriteLine (x);
```
### شناسه‌ها و کلمات کلیدی

شناسه‌ها (Identifiers) نام‌هایی هستند که برنامه‌نویسان برای کلاس‌ها، متدها، متغیرها و غیره انتخاب می‌کنند. در برنامه مثال ما، شناسه‌ها به ترتیب ظاهر شدنشان عبارتند از:

```System   x   Console   WriteLine
```
یک شناسه باید یک کلمه کامل باشد که اساساً از کاراکترهای یونیکد تشکیل شده و با یک حرف یا زیرخط شروع می‌شود. شناسه‌های سی‌شارپ به حروف حساس هستند (case sensitive). طبق قرارداد، پارامترها، متغیرهای محلی، و فیلدهای خصوصی باید به کمل کِیس (camel case) باشند (مثلاً myVariable)، و سایر شناسه‌ها باید به پاسکال کِیس (Pascal case) باشند (مثلاً MyMethod).

کلمات کلیدی (Keywords) نام‌هایی هستند که برای کامپایلر معنای خاصی دارند. در برنامه مثال ما دو کلمه کلیدی وجود دارد: using و int.

بیشتر کلمات کلیدی رزرو شده هستند، به این معنی که نمی‌توانید از آن‌ها به عنوان شناسه استفاده کنید. در اینجا لیست کامل کلمات کلیدی رزرو شده سی‌شارپ آمده است:

```abstract    do          protected     sbyte
as          double      public        sealed
base        else        readonly      short
bool        enum        record        sizeof
break       event       ref           stackalloc
byte        explicit    return        static
case        extern      float         string
catch       false       for           struct
char        finally     foreach       switch
checked     fixed       goto          this
class       if          throw         true
const       implicit    try           typeof
continue    in          uint          ulong
decimal     int         unchecked     unsafe
default     interface   ushort        using
delegate    internal    virtual       void
            is          volatile      while
            lock
            long
            namespace
            new
            null
            object
            operator
            out
            override
            params
            private
```
اگر واقعاً می‌خواهید از شناسه‌ای استفاده کنید که با یک کلمه کلیدی رزرو شده تداخل دارد، می‌توانید با استفاده از پیشوند @ این کار را انجام دهید. برای مثال:

```C#

int using = 123;      // غیرقانونی
int @using = 123;     // قانونی
```
نماد @ بخشی از خود شناسه را تشکیل نمی‌دهد. بنابراین، @myVariable همان myVariable است.

### کلمات کلیدی متنی

برخی از کلمات کلیدی متنی (contextual) هستند، به این معنی که می‌توانید از آن‌ها به عنوان شناسه نیز استفاده کنید—بدون نماد @:

```add         descending  global        notnull     remove      var
alias       dynamic     group         nuint       required    with
and         equals      init          on          select      when
ascending   file        into          or          set         where
async       from        join          orderby     unmanaged   yield
await       get         let           partial     value
by          managed     nameof
```
با کلمات کلیدی متنی، ابهام نمی‌تواند در متنی که در آن استفاده می‌شوند، ایجاد شود.

### ثابت‌ها، نشانه‌گذارها و عملگرها

ثابت‌ها (Literals) قطعات داده اولیه‌ای هستند که به صورت لغوی در برنامه جاسازی شده‌اند. ثابت‌هایی که در برنامه مثال ما استفاده کردیم ۱۲ و ۳۰ هستند.

نشانه‌گذارها (Punctuators) به جداسازی ساختار برنامه کمک می‌کنند. یک مثال سمی‌کولن است که یک دستور را به پایان می‌رساند. دستورات می‌توانند چندین خط را در بر گیرند:

```C#

Console.WriteLine
  (1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10);
```
یک عملگر (Operator) عبارت‌ها را تبدیل و ترکیب می‌کند. بیشتر عملگرها در سی‌شارپ با یک نماد نشان داده می‌شوند، مانند عملگر ضرب، *. ما عملگرها را بعداً در این فصل با جزئیات بیشتری بحث خواهیم کرد. این‌ها عملگرهایی هستند که در برنامه مثال ما استفاده کردیم:

```=  * .  ()
```
یک نقطه، عضویت چیزی را (یا نقطه اعشار را در ثابت‌های عددی) نشان می‌دهد. پرانتزها هنگام اعلان یا فراخوانی یک متد استفاده می‌شوند؛ پرانتزهای خالی زمانی استفاده می‌شوند که متد هیچ آرگومانی را نمی‌پذیرد. (پرانتزها اهداف دیگری نیز دارند که بعداً در این فصل خواهید دید.) یک علامت مساوی عمل انتساب را انجام می‌دهد. (علامت مساوی دوبل، ==، مقایسه برابری را انجام می‌دهد، همانطور که بعداً خواهید دید.)

### Comments

سی‌شارپ دو سبک مختلف مستندسازی کد منبع را ارائه می‌دهد: نظرات تک‌خطی و نظرات چندخطی. یک نظر تک‌خطی با دو اسلش رو به جلو آغاز می‌شود و تا پایان خط ادامه می‌یابد؛ برای مثال:

```C#

int x = 3;   // Comment about assigning 3 to x
```
یک نظر چندخطی با /* شروع شده و با */ به پایان می‌رسد؛ برای مثال:

```C#

int x = 3;   /* This is a comment that
                spans two lines */
```
نظرات می‌توانند شامل تگ‌های مستندسازی XML باشند، که ما در "مستندسازی XML" در صفحه ۲۷۲ توضیح می‌دهیم.
